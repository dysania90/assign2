mimeversion 10  server cern30  date wednesday 20nov96 195218 gmt  contenttype texthtml  contentlength 5924  lastmodified saturday 02mar96 214801 gmt        cucs ibm sp2      computer science ibm sp2            using the cucs sp2    the machine is called granita the eight nodes are granita1  through granita8  if you have a cucs login you can use the sp2  log into granita1 or granita2 which weve designated as  interactive nodes shells installed   sh bsh csh ksh tcsh bash tsh if you experience problems  during your first login try to remove operatingsystem specific stuff  from your shell configuration file for example aix does not have  the arch command you can use uname instead   the file usrlppbosreadme contains   information  about the release of aix used on our sp2 in addition to man  you can use infoexplorer to get more information about commands  and usage of the machine to use this program set up your remote display   properly   and type info  use poe to run parallel jobs that use neither active  massages nor splitc and info l pe  or man poe to read more about poe  read below about how to run parallel programs that use active messages  or splitc    more information about    ibm sp2  hardware  cornell theory center sp2        homegrown software    in general local software is installed in usrusww be  sure that usruswwsp2bin and   usruswwsp2gnubin are in your path      splitc    splitc is a simple extension to c for  parallel computing it provides a global address space though global  pointers which can be dereferenced just like regular pointers  splitphase assignment statements allow programmers to hide the latency  of remote accesses by overlapping computation and communication  examples and makefiles can be found in   swwsp2splitcbenchcubench      before working with splitc source   swwsp2etcsp2setenv users of noncsh shells  should execute commands in swwsp2etcsp2setenvnoncsh  to compile splitc programs create a makefile  look at samples in various directories in   swwsp2splitcbenchcubench and type gmake  you must include makesplitc in your makefile  splitc programs are run in the same way as  active messages programs ie using amr scripts  located in usruswwsp2bin for example to run a program  foo on 3 processors type amr3 foo      debugging splitc  to debug a splitc program the following steps need to be done     include splitcdebugh   insert splitcdebug as the first statement to be executed after  splitcmain   compile and run your program as described in the previous section   you will see the following message in node 0 most commonly run on  granita1 debugging splitc  hit enter to continue   before hitting return log onto the node you want to debug if you  want to debug the master node open a new shell   go to the directory where your program source is located   run gdb   inside gdb do file amrun and then  attach pid where pid the  the proc id of the amrun process on the node being debugged   hit return on node 0 to let computation proceed   once youve attached gdb to amrun amrun is stopped by gdb and  you can set breakpoints look at stack frames etc        active messages    active messages is a lowoverhead communication layer  that offers highperformance communication on many parallel machines  a native active messages layer sp2am is now available for the sp2  the main performance characteristics of sp2 am are a oneword roundtrip  latency of 51 us and an asymptotic network bandwidth of 343 mbs      the sp2am library is found in usruswwsp2liblibsp2gama  and the header file is in usruswwsp2include before  running programs that use active messages   source swwsp2etcsp2setenv and read  usruswwsp2gam10docrunningprgms   the amr scripts are located also in   usruswwsp2bin      mpi    mpi is a popular  message passing interface for portable parallel programs  we have an  implementation of mpi based on the mpich library running over  active messages on the sp2  the header files are located in usruswwsp2include  the library file is located in usruswwsp2lib  the easiest way to compile and link is with the script file ampicc which  is built on top of xlc      ampicc o3 fooc o foo      you can also compile mpi programs with xlc gcc and splitcc please look  at the examples  in the directory swwsp2ampiexamples for information about this  mpi programs are run exactly like  ordinary active messages programs ie amr4 foo  be sure to source swwsp2etcsp2setenv                      other software  software available on granita1 and granita2 also includes   tcsh bash c set  xlc fortran xlf xpdbx x11 matlab   gnu software installed in  swwsp2gnu includes   emacs gmake gcc g gdb bison some of it is   replicated locally in usrlocalgnubin        problems    if you experience difficulties with the sp2 please contact the sp2  czar   grzegorz czajkowski      
